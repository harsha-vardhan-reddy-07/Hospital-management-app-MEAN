<div class="container" *ngIf="isLoggedIn()">
  <h2 class="display-4">Patient Dashboard</h2>

  <div class="input-group mb-3">
    <input type="text" class="form-control" placeholder="Enter patient name" [(ngModel)]="patientName">
    <div class="input-group-append">
      <button class="btn btn-primary" type="button" (click)="searchPrescriptionsByPatientName()">Search</button>
    </div>
  </div>

  <div *ngIf="appointments" class="table-responsive">
    <button class="btn btn-primary" routerLink="//book">Book Appointment</button>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Patient Name</th>
          <th>Date</th>
          <th>Dr. Name</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let appointment of appointments">
          <td>{{ appointment.name }}</td>
          <td>{{ appointment.timeSlot }}</td>
          <td>{{ appointment.doctor }}</td>
          <td>{{ appointment.status }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="table-responsive">
    <h3>Prescriptions</h3>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Patient Name</th>
          <th>Doctor</th>
          <th>Medication</th>
          <th>Dosage</th>
        </tr>
      </thead>
      <tbody >
        <tr *ngFor="let prescription of prescriptions" >
          <td>{{ prescription.patient }}</td>
          <td>{{ prescription.doctor }}</td>
          <td>{{ prescription.medication }}</td>
          <td>{{ prescription.dosage }}</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>

<div class="alert alert-primary" role="alert" *ngIf="!isLoggedIn()">
  Login to see Patient Dashboard
</div>
